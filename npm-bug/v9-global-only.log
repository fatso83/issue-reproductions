0 verbose cli /usr/local/bin/node /usr/local/bin/npm
1 info using npm@9.2.0
2 info using node@v19.4.0
3 timing npm:load:whichnode Completed in 0ms
4 timing config:load:defaults Completed in 1ms
5 timing config:load:file:/usr/local/lib/node_modules/npm/npmrc Completed in 0ms
6 timing config:load:builtin Completed in 0ms
7 timing config:load:cli Completed in 2ms
8 timing config:load:env Completed in 0ms
9 timing config:load:project Completed in 2ms
10 timing config:load:file:/Users/carlerik/.npmrc Completed in 1ms
11 timing config:load:user Completed in 1ms
12 timing config:load:file:/usr/local/etc/npmrc Completed in 0ms
13 timing config:load:global Completed in 0ms
14 timing config:load:setEnvs Completed in 0ms
15 timing config:load Completed in 6ms
16 timing npm:load:configload Completed in 6ms
17 timing npm:load:mkdirpcache Completed in 1ms
18 timing npm:load:mkdirplogs Completed in 0ms
19 verbose title npm i
20 verbose argv "i" "--global"
21 timing npm:load:setTitle Completed in 5ms
22 timing config:load:flatten Completed in 1ms
23 timing npm:load:display Completed in 1ms
24 verbose logfile logs-max:10 dir:/Users/carlerik/.npm/_logs/2023-01-24T14_53_50_507Z-
25 verbose logfile /Users/carlerik/.npm/_logs/2023-01-24T14_53_50_507Z-debug-0.log
26 timing npm:load:logFile Completed in 2ms
27 timing npm:load:timers Completed in 0ms
28 timing npm:load:configScope Completed in 0ms
29 timing npm:load Completed in 15ms
30 timing config:load:flatten Completed in 0ms
31 timing arborist:ctor Completed in 0ms
32 silly logfile done cleaning log files
33 timing idealTree:init Completed in 2ms
34 timing idealTree:userRequests Completed in 2ms
35 silly idealTree buildDeps
36 silly fetch manifest npm-bug-v8@file:../../../Users/carlerik/dev/issue-reproductions/npm-bug
37 silly placeDep ROOT npm-bug-v8@ OK for:  want: file:../../../Users/carlerik/dev/issue-reproductions/npm-bug
38 silly fetch manifest mkdirp@^2.1.3
39 http fetch GET 200 https://registry.npmjs.org/mkdirp 8ms (cache hit)
40 timing idealTree:#root Completed in 12ms
41 silly placeDep node_modules/npm-bug-v8 mkdirp@2.1.3 OK for: node_modules/npm-bug-v8 want: ^2.1.3
42 timing idealTree:node_modules/npm-bug-v8 Completed in 2ms
43 timing idealTree:node_modules/npm-bug-v8/node_modules/mkdirp Completed in 0ms
44 timing idealTree:buildDeps Completed in 14ms
45 timing idealTree:fixDepFlags Completed in 0ms
46 timing idealTree Completed in 19ms
47 timing reify:loadTrees Completed in 21ms
48 timing reify:diffTrees Completed in 0ms
49 silly reify mark retired [ '/usr/local/lib/node_modules/npm-bug-v8' ]
50 silly reify moves {
50 silly reify   '/usr/local/lib/node_modules/npm-bug-v8': '/usr/local/lib/node_modules/.npm-bug-v8-1KvIztGt'
50 silly reify }
51 timing reify:retireShallow Completed in 1ms
52 timing reify:createSparse Completed in 1ms
53 timing reify:loadBundles Completed in 0ms
54 timing arborist:ctor Completed in 0ms
55 timing reifyNode:node_modules/npm-bug-v8 Completed in 16ms
56 timing reifyNode:node_modules/npm-bug-v8/node_modules/mkdirp Completed in 19ms
57 timing reify:unpack Completed in 19ms
58 timing reify:unretire Completed in 0ms
59 timing build:queue Completed in 1ms
60 info run undefined preinstall node_modules/npm-bug-v8 npm exec mkdirp ~/.config/@fatso83/fetch-todays-calendar ~/.local/share/@fatso83/fetch-todays-calendar
61 info run undefined preinstall { code: 127, signal: null }
62 timing reify:rollback:createSparse Completed in 3ms
63 timing reify:rollback:retireShallow Completed in 0ms
64 timing command:i Completed in 266ms
65 verbose stack Error: command failed
65 verbose stack     at ChildProcess.<anonymous> (/usr/local/lib/node_modules/npm/node_modules/@npmcli/promise-spawn/lib/index.js:53:27)
65 verbose stack     at ChildProcess.emit (node:events:513:28)
65 verbose stack     at maybeClose (node:internal/child_process:1098:16)
65 verbose stack     at Socket.<anonymous> (node:internal/child_process:456:11)
65 verbose stack     at Socket.emit (node:events:513:28)
65 verbose stack     at Pipe.<anonymous> (node:net:317:12)
66 verbose cwd /Users/carlerik/dev/issue-reproductions/npm-bug
67 verbose Darwin 22.3.0
68 verbose node v19.4.0
69 verbose npm  v9.2.0
70 error code 127
71 error path /usr/local/lib/node_modules/npm-bug-v8
72 error command failed
73 error command sh -c npm exec mkdirp ~/.config/@fatso83/fetch-todays-calendar ~/.local/share/@fatso83/fetch-todays-calendar
74 error sh: mkdirp: command not found
75 verbose exit 127
76 timing npm Completed in 290ms
77 verbose unfinished npm timer reify 1674572030532
78 verbose unfinished npm timer reify:build 1674572030576
79 verbose unfinished npm timer build 1674572030576
80 verbose unfinished npm timer build:deps 1674572030576
81 verbose unfinished npm timer build:run:preinstall 1674572030577
82 verbose unfinished npm timer build:run:preinstall:node_modules/npm-bug-v8 1674572030577
83 verbose code 127
84 error A complete log of this run can be found in:
84 error     /Users/carlerik/.npm/_logs/2023-01-24T14_53_50_507Z-debug-0.log
